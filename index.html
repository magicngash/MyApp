<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SalonSmart - Daily Services Report</title>
  <style>
    /* --- Styling omitted for brevity --- use your full CSS as is --- */
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>SalonSmart</h1>
      <p>Daily Services Report</p>
    </div>

    <div class="form-container">
      <form id="servicesForm">
        <!-- Date Section -->
        <div class="date-section">
          <label class="date-label" for="reportDate">📅 Date</label>
          <input type="date" id="reportDate" class="date-input" required />
        </div>

        <!-- Services Section -->
        <div class="services-section">
          <h2>📋 Service Quantities</h2>
          <div class="services-grid">
            <!-- Predefined 10 services -->
            <div class="service-row"><span class="row-number">1</span><span class="service-name">Facial Scrub</span><input type="number" class="quantity-input" value="0" min="0" name="service1" /></div>
            <div class="service-row"><span class="row-number">2</span><span class="service-name">Nail Polish</span><input type="number" class="quantity-input" value="0" min="0" name="service2" /></div>
            <div class="service-row"><span class="row-number">3</span><span class="service-name">Hair Relaxing</span><input type="number" class="quantity-input" value="0" min="0" name="service3" /></div>
            <div class="service-row"><span class="row-number">4</span><span class="service-name">Pedicure</span><input type="number" class="quantity-input" value="0" min="0" name="service4" /></div>
            <div class="service-row"><span class="row-number">5</span><span class="service-name">Manicure</span><input type="number" class="quantity-input" value="0" min="0" name="service5" /></div>
            <div class="service-row"><span class="row-number">6</span><span class="service-name">Hair Wash & Blow Dry</span><input type="number" class="quantity-input" value="0" min="0" name="service6" /></div>
            <div class="service-row"><span class="row-number">7</span><span class="service-name">Braiding</span><input type="number" class="quantity-input" value="0" min="0" name="service7" /></div>
            <div class="service-row"><span class="row-number">8</span><span class="service-name">Gel Polish</span><input type="number" class="quantity-input" value="0" min="0" name="service8" /></div>
            <div class="service-row"><span class="row-number">9</span><span class="service-name">Face Waxing</span><input type="number" class="quantity-input" value="0" min="0" name="service9" /></div>
            <div class="service-row"><span class="row-number">10</span><span class="service-name">Hair Treatment</span><input type="number" class="quantity-input" value="0" min="0" name="service10" /></div>
          </div>
        </div>

        <div class="submit-section">
          <button type="submit" class="submit-btn">📤 Submit Day's Report</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="footer">
    © 2025 SalonSmart – Private Use Only
  </footer>

  <script>
    // Auto-fill today's date
    document.addEventListener('DOMContentLoaded', function () {
      const today = new Date();
      const dateString = today.getFullYear() + '-' +
        String(today.getMonth() + 1).padStart(2, '0') + '-' +
        String(today.getDate()).padStart(2, '0');
      document.getElementById('reportDate').value = dateString;
    });

    // Submit to Google Sheets via Web App
    document.getElementById('servicesForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const date = document.getElementById('reportDate').value;
      const data = {
        "Date": date,
        "Facial Scrub": Number(document.querySelector('input[name="service1"]').value || 0),
        "Nail Polish": Number(document.querySelector('input[name="service2"]').value || 0),
        "Hair Relaxing": Number(document.querySelector('input[name="service3"]').value || 0),
        "Pedicure": Number(document.querySelector('input[name="service4"]').value || 0),
        "Manicure": Number(document.querySelector('input[name="service5"]').value || 0),
        "Hair Wash & Blow Dry": Number(document.querySelector('input[name="service6"]').value || 0),
        "Braiding": Number(document.querySelector('input[name="service7"]').value || 0),
        "Gel Polish": Number(document.querySelector('input[name="service8"]').value || 0),
        "Face Waxing": Number(document.querySelector('input[name="service9"]').value || 0),
        "Hair Treatment": Number(document.querySelector('input[name="service10"]').value || 0)
      };

      fetch("https://script.google.com/macros/s/AKfycbwKsoDS1mXAO_DJEvPfbLXerdLZ-E98Q9ao-vYbbN6Jp8zJmWiMb2QL3uBhKUYfb4OpRA/exec", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      })
        .then(res => res.json())
        .then(res => {
          if (res.status === "success") {
            alert("✅ Submitted successfully!");
            document.getElementById('servicesForm').reset();
          } else {
            alert("⚠️ Submission failed.");
          }
        })
        .catch(err => {
          alert("❌ Could not submit. Check console.");
          console.error(err);
        });
    });
  </script>
</body>
</html>
